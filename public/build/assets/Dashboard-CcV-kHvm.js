import{G as g,j as e,S as f,x as n}from"./app-DfZg0_iv.js";import{A as v}from"./AuthenticatedLayout-BJo3BYVB.js";import"./ApplicationLogo-DupAcbHH.js";import"./transition-UVFmWLJ4.js";function y({auth:r,documents:i}){const{data:a,setData:l,post:c,processing:x,errors:s,reset:p}=g({title:"",description:"",file:null,thumbnail:null}),h=t=>{t.preventDefault(),c(route("documents.store"),{onSuccess:()=>p()})},d=r.user.role==="admin",o=d||r.user.can_upload_documents,m=d||r.user.can_create_vouchers,b=d||r.user.can_manage_users;return e.jsxs(v,{user:r.user,header:e.jsx("h2",{className:"font-black text-3xl text-gray-800 leading-tight uppercase tracking-tighter italic",children:"Archive Command Center"}),children:[e.jsx(f,{title:"Staff Dashboard"}),e.jsx("div",{className:"py-12 bg-[#f4f1ea] min-h-screen",children:e.jsxs("div",{className:"max-w-7xl mx-auto sm:px-6 lg:px-8 space-y-12",children:[e.jsxs("div",{className:"flex flex-wrap gap-4 px-4 sm:px-0",children:[m&&e.jsxs(n,{href:route("admin.redeem_codes.index"),className:"px-6 py-4 bg-black text-[#ffde00] font-black rounded-2xl hover:bg-[#be1e2d] hover:text-white transition-all shadow-xl uppercase tracking-widest text-xs flex items-center gap-3",children:[e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 5v2m0 4v2m0 4v2M5 5a2 2 0 00-2 2v3a2 2 0 110 4v3a2 2 0 002 2h14a2 2 0 002-2v-3a2 2 0 110-4V7a2 2 0 00-2-2H5z"})}),"Voucher Control Panel"]}),b&&e.jsxs(n,{href:route("staff.users.index"),className:"px-6 py-4 bg-white text-gray-900 font-black rounded-2xl hover:bg-gray-50 transition-all shadow-xl uppercase tracking-widest text-xs flex items-center gap-3 border border-black/5",children:[e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z"})}),"Reader Registry"]})]}),o?e.jsxs("div",{className:"bg-white/80 backdrop-blur-md overflow-hidden shadow-2xl sm:rounded-[3rem] border border-black/5 p-12",children:[e.jsxs("header",{className:"mb-10",children:[e.jsx("div",{className:"inline-block bg-[#be1e2d] text-white px-4 py-1 text-[10px] font-black uppercase tracking-widest mb-4 rounded-full",children:"Authorized Access"}),e.jsx("h2",{className:"text-3xl font-black text-gray-900 uppercase tracking-tighter italic",children:"Ingest New Edition"}),e.jsx("p",{className:"mt-2 text-sm text-gray-500 font-bold uppercase tracking-widest opacity-60",children:"Official document distribution subsystem."})]}),e.jsxs("form",{onSubmit:h,className:"grid grid-cols-1 md:grid-cols-2 gap-10",children:[e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-black uppercase tracking-widest text-[#be1e2d] mb-2",children:"Edition Title"}),e.jsx("input",{type:"text",className:"w-full bg-[#f4f1ea] border-none rounded-2xl focus:ring-4 focus:ring-[#be1e2d]/10 font-bold text-lg p-5",value:a.title,onChange:t=>l("title",t.target.value),placeholder:"e.g. Weekly Gazette - Feb 2026",required:!0}),s.title&&e.jsx("div",{className:"text-red-600 text-xs mt-1 font-bold italic",children:s.title})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-black uppercase tracking-widest text-[#be1e2d] mb-2",children:"Internal Memo / Desc"}),e.jsx("textarea",{className:"w-full bg-[#f4f1ea] border-none rounded-2xl focus:ring-4 focus:ring-[#be1e2d]/10 font-bold text-lg p-5 min-h-[150px]",value:a.description,onChange:t=>l("description",t.target.value),placeholder:"Brief overview of contents..."}),s.description&&e.jsx("div",{className:"text-red-600 text-xs mt-1 font-bold italic",children:s.description})]})]}),e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"grid grid-cols-1 gap-6",children:[e.jsxs("div",{className:"p-6 bg-[#f4f1ea] rounded-[2rem] border-2 border-dashed border-black/10 hover:border-[#be1e2d]/20 transition-all relative group text-center",children:[e.jsx("input",{type:"file",className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer z-10",onChange:t=>l("file",t.target.files[0]),required:!0}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("svg",{className:"w-10 h-10 mx-auto text-[#be1e2d] opacity-40 group-hover:opacity-100 transition-opacity",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M7 21h10a2 2 0 002-2V9.414a1 1 0 00-.293-.707l-5.414-5.414A1 1 0 0012.586 3H7a2 2 0 00-2 2v14a2 2 0 002 2z"})}),e.jsx("p",{className:"font-black uppercase text-xs tracking-widest text-gray-500",children:a.file?a.file.name:"Select PDF Edition"}),e.jsx("p",{className:"text-[10px] text-gray-400 font-bold italic",children:"Max size: 1GB"}),s.file&&e.jsx("div",{className:"text-red-600 text-[10px] font-bold italic mt-2",children:s.file.includes("failed to upload")?"Upload failed. Check server limits (post_max_size/upload_max_filesize).":s.file})]})]}),e.jsxs("div",{className:"p-6 bg-[#f4f1ea] rounded-[2rem] border-2 border-dashed border-black/10 hover:border-[#be1e2d]/20 transition-all relative group text-center",children:[e.jsx("input",{type:"file",accept:"image/*",className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer z-10",onChange:t=>l("thumbnail",t.target.files[0])}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("svg",{className:"w-10 h-10 mx-auto text-[#be1e2d] opacity-40 group-hover:opacity-100 transition-opacity",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 002 2v12a2 2 0 002 2z"})}),e.jsx("p",{className:"font-black uppercase text-xs tracking-widest text-gray-500",children:a.thumbnail?a.thumbnail.name:"Edition Key Image (Optional)"}),s.thumbnail&&e.jsx("div",{className:"text-red-600 text-[10px] font-bold italic mt-2",children:s.thumbnail})]})]})]}),e.jsx("button",{type:"submit",className:"w-full py-6 bg-[#be1e2d] text-white font-black rounded-3xl hover:bg-black transition-all shadow-2xl shadow-red-500/20 active:scale-95 disabled:opacity-50 uppercase tracking-[0.2em] text-sm",disabled:x,children:"Execute Publication"})]})]})]}):e.jsxs("div",{className:"bg-red-50 border-2 border-red-100 p-8 rounded-[2rem] text-center",children:[e.jsx("svg",{className:"w-12 h-12 mx-auto text-red-300 mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})}),e.jsx("h3",{className:"text-xl font-black text-red-900 uppercase tracking-tighter italic",children:"Upload Permissions Restricted"}),e.jsx("p",{className:"text-sm text-red-600 font-bold uppercase tracking-widest opacity-60 mt-1",children:"Consult your administrator to extend privileges."})]}),e.jsx("div",{className:"bg-white/80 backdrop-blur-md overflow-hidden shadow-2xl sm:rounded-[4rem] border border-black/5",children:e.jsxs("div",{className:"p-12",children:[e.jsx("h3",{className:"text-2xl font-black uppercase tracking-tighter italic text-gray-400 mb-10",children:"Archive Ingestion Log"}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full text-left border-collapse",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b-2 border-black/5",children:[e.jsx("th",{className:"py-6 px-4 text-xs font-black uppercase tracking-widest text-[#be1e2d]",children:"Edition Title"}),e.jsx("th",{className:"py-6 px-4 text-xs font-black uppercase tracking-widest text-[#be1e2d]",children:"Tariff"}),e.jsx("th",{className:"py-6 px-4 text-xs font-black uppercase tracking-widest text-[#be1e2d] text-right",children:"Administrative"})]})}),e.jsx("tbody",{className:"divide-y divide-black/5",children:i.data.map(t=>e.jsxs("tr",{className:"group hover:bg-[#be1e2d]/5 transition-colors",children:[e.jsx("td",{className:"py-8 px-4",children:e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"font-black text-xl text-gray-900 tracking-tighter uppercase",children:t.title}),e.jsxs("span",{className:"text-xs font-bold text-gray-400 italic font-mono uppercase tracking-widest opacity-50",children:["Ingested: ",new Date(t.created_at).toLocaleDateString()]})]})}),e.jsx("td",{className:"py-8 px-4 font-black text-gray-400",children:"$1.00"}),e.jsxs("td",{className:"py-8 px-4 text-right space-x-3",children:[e.jsx(n,{href:route("documents.reader",t.id),className:"inline-flex items-center px-6 py-3 bg-[#f4f1ea] text-gray-900 text-[10px] font-black uppercase tracking-widest rounded-xl hover:bg-black hover:text-white transition-all shadow-sm",children:"Review"}),o&&e.jsx(n,{href:route("documents.destroy",t.id),method:"delete",as:"button",className:"inline-flex items-center px-6 py-3 bg-white border border-[#be1e2d]/10 text-[#be1e2d] text-[10px] font-black uppercase tracking-widest rounded-xl hover:bg-[#be1e2d] hover:text-white transition-all shadow-sm",children:"Expunge"})]})]},t.id))})]})}),i.links&&i.links.length>3&&e.jsx("div",{className:"mt-16 flex justify-center items-center gap-3",children:i.links.map((t,u)=>e.jsx("button",{disabled:!t.url,className:`h-12 flex items-center justify-center px-6 rounded-2xl font-black uppercase text-[10px] tracking-widest transition-all ${t.active?"bg-[#be1e2d] text-white shadow-xl shadow-red-500/30":"bg-white text-black/40 hover:text-black hover:bg-white shadow-md hover:shadow-xl"} ${t.url?"":"opacity-20 cursor-not-allowed"}`,dangerouslySetInnerHTML:{__html:t.label},onClick:()=>window.location.href=t.url},u))})]})})]})})]})}export{y as default};
