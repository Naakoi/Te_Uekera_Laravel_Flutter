import{G as b,r as E,j as e,S as A,A as u}from"./app-DfZg0_iv.js";import{A as D}from"./AuthenticatedLayout-BJo3BYVB.js";import{_ as i}from"./dialog-Z_ThJEEC.js";import"./ApplicationLogo-DupAcbHH.js";import"./transition-UVFmWLJ4.js";function R({auth:h,staff:m}){const{data:s,setData:r,post:g,processing:f,errors:l,reset:j}=b({name:"",email:"",password:"",can_upload_documents:!1,can_create_vouchers:!1}),v=a=>{a.preventDefault(),g(route("admin.staff.create"),{onSuccess:()=>j()})},k=a=>{confirm("Are you sure you want to delete this staff member?")&&u.delete(route("admin.staff.delete",a))},d=(a,S)=>{u.patch(route("admin.staff.toggle_permission",{user:a.id,permission:S}))},[x,p]=E.useState(null),{data:n,setData:t,patch:N,processing:w,errors:c,reset:y}=b({name:"",email:"",password:"",can_upload_documents:!1,can_create_vouchers:!1,can_manage_users:!1}),_=a=>{p(a),t({name:a.name,email:a.email,password:"",can_upload_documents:a.can_upload_documents,can_create_vouchers:a.can_create_vouchers,can_manage_users:a.can_manage_users})},o=()=>{p(null),y()},C=a=>{a.preventDefault(),N(route("admin.staff.update",x.id),{onSuccess:()=>o()})};return e.jsxs(D,{user:h.user,header:e.jsx("h2",{className:"font-black text-3xl text-gray-800 leading-tight uppercase tracking-tighter",children:"Staff Control Center"}),children:[e.jsx(A,{title:"Admin Dashboard"}),e.jsx("div",{className:"py-12 bg-[#f4f1ea] min-h-screen",children:e.jsxs("div",{className:"max-w-7xl mx-auto sm:px-6 lg:px-8 space-y-12",children:[e.jsxs("div",{className:"flex gap-4",children:[e.jsx("a",{href:route("admin.dashboard"),className:"px-6 py-3 bg-[#be1e2d] text-white font-black rounded-2xl uppercase text-[10px] tracking-widest shadow-lg shadow-red-500/20",children:"Staff Management"}),e.jsx("a",{href:route("admin.subscription-plans.index"),className:"px-6 py-3 bg-white text-gray-500 hover:text-[#be1e2d] font-black rounded-2xl uppercase text-[10px] tracking-widest shadow-sm",children:"Subscription Plans"}),e.jsx("a",{href:route("admin.gateway-settings.index"),className:"px-6 py-3 bg-white text-gray-500 hover:text-[#be1e2d] font-black rounded-2xl uppercase text-[10px] tracking-widest shadow-sm",children:"Payment Gateways"}),e.jsx("a",{href:route("admin.redeem_codes.index"),className:"px-6 py-3 bg-white text-gray-500 hover:text-[#be1e2d] font-black rounded-2xl uppercase text-[10px] tracking-widest shadow-sm",children:"Activation Codes"})]}),e.jsxs("div",{className:"bg-white/80 backdrop-blur-md overflow-hidden shadow-2xl sm:rounded-[3rem] border border-black/5 p-12",children:[e.jsxs("header",{className:"mb-10",children:[e.jsx("h2",{className:"text-3xl font-black text-gray-900 uppercase tracking-tighter italic",children:"Onboard New Team Member"}),e.jsx("p",{className:"mt-2 text-sm text-gray-500 font-bold uppercase tracking-widest opacity-60",children:"Assign specific administrative privileges to your staff."})]}),e.jsxs("form",{onSubmit:v,className:"grid grid-cols-1 md:grid-cols-2 gap-10",children:[e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-black uppercase tracking-widest text-[#be1e2d] mb-2",children:"Display Name"}),e.jsx("input",{type:"text",className:"w-full bg-[#f4f1ea] border-none rounded-2xl focus:ring-4 focus:ring-[#be1e2d]/10 font-bold text-lg p-5",value:s.name,onChange:a=>r("name",a.target.value),placeholder:"Full Name",required:!0}),l.name&&e.jsx("div",{className:"text-red-600 text-xs mt-1 font-bold italic",children:l.name})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-black uppercase tracking-widest text-[#be1e2d] mb-2",children:"Email Identity"}),e.jsx("input",{type:"email",className:"w-full bg-[#f4f1ea] border-none rounded-2xl focus:ring-4 focus:ring-[#be1e2d]/10 font-bold text-lg p-5",value:s.email,onChange:a=>r("email",a.target.value),placeholder:"email@example.com",required:!0}),l.email&&e.jsx("div",{className:"text-red-600 text-xs mt-1 font-bold italic",children:l.email})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-black uppercase tracking-widest text-[#be1e2d] mb-2",children:"Secure Access Key"}),e.jsx("input",{type:"password",className:"w-full bg-[#f4f1ea] border-none rounded-2xl focus:ring-4 focus:ring-[#be1e2d]/10 font-bold text-lg p-5",value:s.password,onChange:a=>r("password",a.target.value),placeholder:"Minimum 8 characters",required:!0}),l.password&&e.jsx("div",{className:"text-red-600 text-xs mt-1 font-bold italic",children:l.password})]})]}),e.jsxs("div",{className:"space-y-8",children:[e.jsx("label",{className:"block text-xs font-black uppercase tracking-widest text-[#be1e2d]",children:"Staff Privileges"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("label",{className:"flex items-center gap-4 group cursor-pointer p-4 bg-[#f4f1ea] rounded-2xl border-2 border-transparent hover:border-[#be1e2d]/20 transition-all",children:[e.jsx("input",{type:"checkbox",className:"w-6 h-6 rounded-lg text-[#be1e2d] focus:ring-[#be1e2d] border-none bg-white shadow-sm",checked:s.can_upload_documents,onChange:a=>r("can_upload_documents",a.target.checked)}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"font-black uppercase text-sm tracking-tight text-gray-800",children:"Document Upload"}),e.jsx("span",{className:"text-[10px] text-gray-500 font-bold italic",children:"Can publish and delete archive editions."})]})]}),e.jsxs("label",{className:"flex items-center gap-4 group cursor-pointer p-4 bg-[#f4f1ea] rounded-2xl border-2 border-transparent hover:border-[#be1e2d]/20 transition-all",children:[e.jsx("input",{type:"checkbox",className:"w-6 h-6 rounded-lg text-[#be1e2d] focus:ring-[#be1e2d] border-none bg-white shadow-sm",checked:s.can_create_vouchers,onChange:a=>r("can_create_vouchers",a.target.checked)}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"font-black uppercase text-sm tracking-tight text-gray-800",children:"Voucher Creation"}),e.jsx("span",{className:"text-[10px] text-gray-500 font-bold italic",children:"Can generate and print activation codes."})]})]}),e.jsxs("label",{className:"flex items-center gap-4 group cursor-pointer p-4 bg-[#f4f1ea] rounded-2xl border-2 border-transparent hover:border-[#be1e2d]/20 transition-all",children:[e.jsx("input",{type:"checkbox",className:"w-6 h-6 rounded-lg text-[#be1e2d] focus:ring-[#be1e2d] border-none bg-white shadow-sm",checked:s.can_manage_users,onChange:a=>r("can_manage_users",a.target.checked)}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"font-black uppercase text-sm tracking-tight text-gray-800",children:"Reader Management"}),e.jsx("span",{className:"text-[10px] text-gray-500 font-bold italic",children:"Can view registered readers and reset passwords."})]})]})]}),e.jsx("div",{className:"pt-4",children:e.jsx("button",{type:"submit",className:"w-full py-6 bg-[#be1e2d] text-white font-black rounded-3xl hover:bg-black transition-all shadow-2xl shadow-red-500/20 active:scale-95 disabled:opacity-50 uppercase tracking-[0.2em] text-sm",disabled:f,children:"Create Accountant Access"})})]})]})]}),e.jsx("div",{className:"bg-white/80 backdrop-blur-md overflow-hidden shadow-2xl sm:rounded-[4rem] border border-black/5",children:e.jsxs("div",{className:"p-12",children:[e.jsx("h3",{className:"text-2xl font-black uppercase tracking-tighter italic text-gray-400 mb-10",children:"Active Staff List"}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full text-left border-collapse",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b-2 border-black/5",children:[e.jsx("th",{className:"py-6 px-4 text-xs font-black uppercase tracking-widest text-[#be1e2d]",children:"Staff Member"}),e.jsx("th",{className:"py-6 px-4 text-xs font-black uppercase tracking-widest text-[#be1e2d]",children:"Permissions"}),e.jsx("th",{className:"py-6 px-4 text-xs font-black uppercase tracking-widest text-[#be1e2d] text-right",children:"Administrative"})]})}),e.jsx("tbody",{className:"divide-y divide-black/5",children:m.map(a=>e.jsxs("tr",{className:"group hover:bg-[#be1e2d]/5 transition-colors",children:[e.jsx("td",{className:"py-8 px-4",children:e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"font-black text-xl text-gray-900 tracking-tighter uppercase",children:a.name}),e.jsx("span",{className:"text-xs font-bold text-gray-400 italic font-mono",children:a.email})]})}),e.jsx("td",{className:"py-8 px-4",children:e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>d(a,"can_upload_documents"),className:`px-3 py-1 text-[9px] font-black uppercase rounded-lg border transition-all ${a.can_upload_documents?"bg-blue-50 text-blue-600 border-blue-100 hover:bg-blue-100":"bg-gray-50 text-gray-400 border-gray-200 hover:border-blue-200 hover:text-blue-400"}`,children:"Uploads"}),e.jsx("button",{onClick:()=>d(a,"can_create_vouchers"),className:`px-3 py-1 text-[9px] font-black uppercase rounded-lg border transition-all ${a.can_create_vouchers?"bg-amber-50 text-amber-600 border-amber-100 hover:bg-amber-100":"bg-gray-50 text-gray-400 border-gray-200 hover:border-amber-200 hover:text-amber-400"}`,children:"Vouchers"}),e.jsx("button",{onClick:()=>d(a,"can_manage_users"),className:`px-3 py-1 text-[9px] font-black uppercase rounded-lg border transition-all ${a.can_manage_users?"bg-purple-50 text-purple-600 border-purple-100 hover:bg-purple-100":"bg-gray-50 text-gray-400 border-gray-200 hover:border-purple-200 hover:text-purple-400"}`,children:"Readers"})]})}),e.jsx("td",{className:"py-8 px-4 text-right",children:e.jsxs("div",{className:"flex gap-2 justify-end",children:[e.jsx("button",{onClick:()=>_(a),className:"p-4 text-blue-300 hover:text-blue-600 hover:bg-white rounded-2xl transition-all group",title:"Edit Staff",children:e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})})}),e.jsx("button",{onClick:()=>k(a.id),className:"p-4 text-[#be1e2d]/20 hover:text-[#be1e2d] hover:bg-white rounded-2xl transition-all group",title:"Revoke Permission",children:e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})})]},a.id))})]})})]})})]})}),e.jsxs(i,{open:!!x,onClose:o,className:"relative z-50",children:[e.jsx("div",{className:"fixed inset-0 bg-black/30 backdrop-blur-sm","aria-hidden":"true"}),e.jsx("div",{className:"fixed inset-0 flex items-center justify-center p-4",children:e.jsxs(i.Panel,{className:"mx-auto max-w-2xl w-full bg-white rounded-3xl p-10 shadow-2xl",children:[e.jsx(i.Title,{className:"text-2xl font-black text-gray-900 uppercase tracking-tighter italic mb-8",children:"Edit Staff Member"}),e.jsxs("form",{onSubmit:C,className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-black uppercase tracking-widest text-[#be1e2d] mb-2",children:"Display Name"}),e.jsx("input",{type:"text",className:"w-full bg-[#f4f1ea] border-none rounded-2xl focus:ring-4 focus:ring-[#be1e2d]/10 font-bold p-4",value:n.name,onChange:a=>t("name",a.target.value),required:!0}),c.name&&e.jsx("div",{className:"text-red-600 text-xs mt-1 font-bold italic",children:c.name})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-black uppercase tracking-widest text-[#be1e2d] mb-2",children:"Email Identity"}),e.jsx("input",{type:"email",className:"w-full bg-[#f4f1ea] border-none rounded-2xl focus:ring-4 focus:ring-[#be1e2d]/10 font-bold p-4",value:n.email,onChange:a=>t("email",a.target.value),required:!0}),c.email&&e.jsx("div",{className:"text-red-600 text-xs mt-1 font-bold italic",children:c.email})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-black uppercase tracking-widest text-[#be1e2d] mb-2",children:"Update Password (Optional)"}),e.jsx("input",{type:"password",className:"w-full bg-[#f4f1ea] border-none rounded-2xl focus:ring-4 focus:ring-[#be1e2d]/10 font-bold p-4",value:n.password,onChange:a=>t("password",a.target.value),placeholder:"Leave blank to keep current password"}),c.password&&e.jsx("div",{className:"text-red-600 text-xs mt-1 font-bold italic",children:c.password})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("label",{className:"block text-xs font-black uppercase tracking-widest text-[#be1e2d]",children:"Permissions"}),e.jsxs("div",{className:"flex flex-wrap gap-4",children:[e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer p-3 bg-[#f4f1ea] rounded-xl border border-transparent hover:border-[#be1e2d]/20 transition-all",children:[e.jsx("input",{type:"checkbox",className:"rounded text-[#be1e2d] focus:ring-[#be1e2d] border-none bg-white",checked:n.can_upload_documents,onChange:a=>t("can_upload_documents",a.target.checked)}),e.jsx("span",{className:"font-bold text-xs uppercase text-gray-700",children:"Document Upload"})]}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer p-3 bg-[#f4f1ea] rounded-xl border border-transparent hover:border-[#be1e2d]/20 transition-all",children:[e.jsx("input",{type:"checkbox",className:"rounded text-[#be1e2d] focus:ring-[#be1e2d] border-none bg-white",checked:n.can_create_vouchers,onChange:a=>t("can_create_vouchers",a.target.checked)}),e.jsx("span",{className:"font-bold text-xs uppercase text-gray-700",children:"Voucher Creation"})]}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer p-3 bg-[#f4f1ea] rounded-xl border border-transparent hover:border-[#be1e2d]/20 transition-all",children:[e.jsx("input",{type:"checkbox",className:"rounded text-[#be1e2d] focus:ring-[#be1e2d] border-none bg-white",checked:n.can_manage_users,onChange:a=>t("can_manage_users",a.target.checked)}),e.jsx("span",{className:"font-bold text-xs uppercase text-gray-700",children:"Reader Management"})]})]})]}),e.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[e.jsx("button",{type:"button",onClick:o,className:"px-6 py-3 bg-gray-100 text-gray-700 font-black rounded-2xl hover:bg-gray-200 transition-all uppercase tracking-widest text-xs",children:"Cancel"}),e.jsx("button",{type:"submit",className:"px-6 py-3 bg-[#be1e2d] text-white font-black rounded-2xl hover:bg-black transition-all shadow-xl shadow-red-500/20 active:scale-95 disabled:opacity-50 uppercase tracking-widest text-xs",disabled:w,children:"Save Changes"})]})]})]})})]})]})}export{R as default};
