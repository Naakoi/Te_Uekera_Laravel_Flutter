import{G as o,j as e,S as p}from"./app-DfZg0_iv.js";import{A as g}from"./AuthenticatedLayout-BJo3BYVB.js";import"./ApplicationLogo-DupAcbHH.js";import"./transition-UVFmWLJ4.js";function f({auth:d,codes:i,documents:n}){const{data:a,setData:s,post:l,processing:x,errors:h,reset:c}=o({document_id:"",count:1}),m=t=>{t.preventDefault(),l(route("codes.generate"),{onSuccess:()=>c()})};return e.jsxs(g,{user:d.user,header:e.jsx("h2",{className:"font-semibold text-xl text-gray-800 dark:text-gray-200 leading-tight",children:"Cash Payment Codes"}),children:[e.jsx(p,{title:"Payment Codes"}),e.jsx("div",{className:"py-12",children:e.jsxs("div",{className:"max-w-7xl mx-auto sm:px-6 lg:px-8 space-y-6",children:[e.jsxs("div",{className:"p-4 sm:p-8 bg-white dark:bg-gray-800 shadow sm:rounded-lg",children:[e.jsxs("header",{children:[e.jsx("h2",{className:"text-lg font-medium text-gray-900 dark:text-gray-100",children:"Generate Codes"}),e.jsx("p",{className:"mt-1 text-sm text-gray-600 dark:text-gray-400",children:"Generate codes for people who pay cash."})]}),e.jsxs("form",{onSubmit:m,className:"mt-6 space-y-6 max-w-xl",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block font-medium text-sm text-gray-700 dark:text-gray-300",children:"Newspaper (Optional)"}),e.jsxs("select",{className:"mt-1 block w-full border-gray-300 dark:border-gray-700 dark:bg-gray-900 dark:text-gray-300 focus:border-indigo-500 focus:ring-indigo-500 rounded-md shadow-sm",value:a.document_id,onChange:t=>s("document_id",t.target.value),children:[e.jsx("option",{value:"",children:"Any Newspaper ($1 credit)"}),n.map(t=>e.jsx("option",{value:t.id,children:t.title},t.id))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block font-medium text-sm text-gray-700 dark:text-gray-300",children:"Number of Codes"}),e.jsx("input",{type:"number",min:"1",max:"100",className:"mt-1 block w-full border-gray-300 dark:border-gray-700 dark:bg-gray-900 dark:text-gray-300 focus:border-indigo-500 focus:ring-indigo-500 rounded-md shadow-sm",value:a.count,onChange:t=>s("count",t.target.value),required:!0})]}),e.jsx("div",{className:"flex items-center gap-4",children:e.jsx("button",{type:"submit",className:"px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700 disabled:opacity-50",disabled:x,children:"Generate"})})]})]}),e.jsxs("div",{className:"p-4 sm:p-8 bg-white dark:bg-gray-800 shadow sm:rounded-lg",children:[e.jsx("header",{children:e.jsx("h2",{className:"text-lg font-medium text-gray-900 dark:text-gray-100",children:"Recent Codes"})}),e.jsx("div",{className:"mt-6",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Code"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Document"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Status"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Generated By"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:i.data.map(t=>{var r;return e.jsxs("tr",{children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-mono font-bold text-gray-900 dark:text-gray-100",children:t.code}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-gray-100",children:t.document?t.document.title:"Any"}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:t.is_used?e.jsxs("span",{className:"text-red-500",children:["Used by ",(r=t.user)==null?void 0:r.name]}):e.jsx("span",{className:"text-green-500 font-bold",children:"Available"})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-gray-100",children:t.generator.name})]},t.id)})})]})})]})]})})]})}export{f as default};
